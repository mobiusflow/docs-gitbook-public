{"swagger":"2.0","info":{"title":"MobiusFlow® API","description":"MobiusFlow® Engine API Documentation","version":"1.2.3"},"definitions":{},"paths":{"/api/v1/mobius/subscribe/connect":{"get":{"summary":"Route used to connect to subscription websocket","description":"\n  Upon making this request, the server will upgrade to websocket connection. The websocket can then be used to manage subscriptions to MobiusFlow object COVs (change of values), resource COVs,  service status changes and broadcast commands. Once the connection is initally established, the websocket server sends back a connected message, featuring the topic 'connected' as shown below. Once the upgrade is complete, all subsequent subcription communications are performed via websocket messages.\n  \n  <pre>\n    <code>\n  {\n    topic: 'connected',\n    payload: {}\n  }\n    </code>\n  </pre>\n\n  <h3>Authorization</h3>\n\n  Following the inital http connect call, the now upgraded websocket connection expects a follow up authorization websocket message within 10 seconds. The authorization websocket message must feature the topic 'authorize' and a payload containing the API bearer token. An example message is shown below:\n \n  <pre>\n    <code>\n  {\n    topic: 'authorize',\n    payload: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiIyYTZlMzQzNC1kZjI4LTQ1NDQtOTYzYS1mZTViMmQ1NTg0ZWIiLCJyb2xlcyI6MjU1LCJpYXQiOjE2NzE3MDgzMDksImV4cCI6MTY3MTcxMTkwOX0.ZiVb7nkGYkYB5Fl0KjE4aLLprJGBosXyTm12K_MeFnc'\n  }\n    </code>\n  </pre>\n  \n  On successful authorization, the websocket server will send back a confirmation message, containing the topic 'authorized' as shown below.\n  \n  <pre>\n    <code>\n  {\n    topic: 'authorized',\n    payload: {}\n  }\n    </code>\n  </pre>\n  \n  If no authorization message is received by the websockeet server within 10 seconds, the connection is dropped by the server.\n  \n  <h3>Subscribing and Unsubscribing</h3>\n  \n  Each subscription or unsubscription message must contain topic 'subscribe' or 'unsubscibe' respectively. Additonally, each message must feature a payload containing both the subscription type and subscription URI. Valid subscription types are denoted in the following table:\n\n  <table border=\"0\" cellpadding=\"5\" cellspacing=\"1\" style=\"width:500px;\">\n    <tr>\n      <td style=\"border-bottom: 1px solid black;\"><b>Type</b></td>\n      <td style=\"border-bottom: 1px solid black;\"><b>Description</b></td>\n    </tr>\n    <tr>\n      <td >object-cov</td>\n      <td >Object change of value events</td>\n    </tr>\n    <tr>\n      <td >resource-cov</td>\n      <td >Resource change of value events</td>\n    </tr>\n    <tr>\n      <td >service-status</td>\n      <td >Service status change of value events</td>\n    </tr>\n    <tr>\n      <td >broadcast-command</td>\n      <td >Broadcast command events</td>\n    </tr>\n  </table>\n\n  Note, the URI field may contain MQTT style wildcards where appropriate.\n  \n  An example subscibe message is shown below:\n  \n  <pre>\n    <code>\n  {\n    topic: 'subscribe',\n    payload: {\n      type: 'object-cov',\n      uri: '000001/020/0201/0001'\n    }\n  }\n    </code>\n  </pre>\n\n  Following a successful subscription or unsubscripton message,  the websocket server will echo the message back to the client, confirming the action has been made.\n\n  <h3>Event Responses</h3>\n\n  Each event response will feature a timestamp, topic and payload. The topic will be one of the valid event types as denoted in the above table. The payload will contain uri and value fields, the form of the latter varrying based on the type and nature of the event. An example response is shown below:\n\n  <pre>\n    <code>\n  {\n    timestamp: '2023-10-01T12:00:00.000Z',\n    topic: 'resource-cov',\n    payload: {\n      uri: '000001/020/0201/0001',\n      value: 1\n    }\n  }\n    </code>\n  </pre>\n\n  The values for each event type are as follows:\n\n  <table border=\"0\" cellpadding=\"5\" cellspacing=\"1\" style=\"width:500px;\">\n    <tr>\n      <td style=\"border-bottom: 1px solid black;\"><b>Type</b></td>\n      <td style=\"border-bottom: 1px solid black;\"><b>Value</b></td>\n    </tr>\n    <tr>\n      <td >object-cov</td>\n      <td >See 'Get live object' http call response within object controller</td>\n    </tr>\n    <tr>\n      <td >resource-cov</td>\n      <td >See 'Get live resource' http call response within object controller</td>\n    </tr>\n    <tr>\n      <td >service-status</td>\n      <td >See 'Get live object' http call response within object controller</td>\n    </tr>\n    <tr>\n      <td >broadcast-command</td>\n      <td >Varies depending on command type. Use get command profiles http call within profile controller for shape of responses.</td>\n    </tr>\n  </table>\n  ","tags":["subscription"],"responses":{"101":{"description":"Switching Protocols","schema":{"description":"Switching Protocols","type":"object","required":["topic"],"properties":{"topic":{"type":"string","description":"Topic name, will always be \"connected\""}},"example":{"topic":"connected"}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/auth/login":{"post":{"summary":"Login to engine API","tags":["auth"],"parameters":[{"name":"body","in":"body","schema":{"description":"Engine API Login credentials","type":"object","required":["username","password"],"additionalProperties":false,"properties":{"username":{"type":"string","description":"Username"},"password":{"type":"string","description":"Password"}},"example":{"username":"exampleUser","password":"examplePassword"}}}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["token","refreshToken"],"properties":{"token":{"type":"string","description":"API token"},"refreshToken":{"type":"string","description":"API refresh token"}},"example":{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiIyYTZlMzQzNC1kZjI4LTQ1NDQtOTYzYS1mZTViMmQ1NTg0ZWIiLCJyb2xlcyI6MjU1LCJpYXQiOjE2NzMyODY1MjYsImV4cCI6MTY3MzI5MDEyNn0.eDnLoBQSp8mkI6C4rkgm1iBFL_dSPAWoYiXOtitaCAs","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiIyYTZlMzQzNC1kZjI4LTQ1NDQtOTYzYS1mZTViMmQ1NTg0ZWIiLCJyZWZyZXNoVG9rZW4iOnRydWUsImlhdCI6MTY3MzI4NjUyNiwiZXhwIjoxNjczMzI5NzI2fQ.TsB2JUhjh8I8dvJrXxVNL4anJKUO5j_sS2EL3x4c5SE"}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/auth/refresh":{"post":{"summary":"Refresh API tokens","tags":["auth"],"parameters":[{"name":"body","in":"body","schema":{"description":"Refresh token data","type":"object","required":["refreshToken"],"additionalProperties":false,"properties":{"refreshToken":{"description":"Refresh token","type":"string"}},"example":{"refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiIyYTZlMzQzNC1kZjI4LTQ1NDQtOTYzYS1mZTViMmQ1NTg0ZWIiLCJyZWZyZXNoVG9rZW4iOnRydWUsImlhdCI6MTY3MTYxNzY2MiwiZXhwIjoxNjcxNjYwODYyfQ.Mwjbo13AQH-wyfuK_HI5sjwikUZSRboyHa6nkrkm-Xg"}}}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["token","refreshToken"],"properties":{"token":{"description":"API token","type":"string"},"refreshToken":{"description":"API refresh token","type":"string"}},"example":{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiIyYTZlMzQzNC1kZjI4LTQ1NDQtOTYzYS1mZTViMmQ1NTg0ZWIiLCJyb2xlcyI6MjU1LCJpYXQiOjE2NzMyODcyMDUsImV4cCI6MTY3MzI5MDgwNX0.T2D6l1AMMEbBJXshJjyyHjt1t7XUB5k35Vegusg2HZc","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiIyYTZlMzQzNC1kZjI4LTQ1NDQtOTYzYS1mZTViMmQ1NTg0ZWIiLCJyZWZyZXNoVG9rZW4iOnRydWUsImlhdCI6MTY3MzI4NzIwNSwiZXhwIjoxNjczMzMwNDA1fQ.AJxGVcUr0raGWYYUDY8hxq9It_gd7byodocjKuzo35I"}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/auth/user":{"post":{"summary":"Add a new user","tags":["auth"],"parameters":[{"name":"body","in":"body","schema":{"description":"New user data","type":"object","required":["username","password","roles"],"additionalProperties":false,"properties":{"username":{"type":"string","description":"Username"},"password":{"description":"Password","type":"string","minLength":8},"roles":{"description":"Role profile","type":"object","required":["admin","flows","configure","subscribe","write","read"],"additionalProperties":false,"properties":{"admin":{"type":"boolean","description":"Has admin permission"},"flows":{"type":"boolean","description":"Has flows editing permission"},"configure":{"type":"boolean","description":"Has configuration editing permission"},"subscribe":{"type":"boolean","description":"Has subscription permission"},"write":{"type":"boolean","description":"Has write permission"},"read":{"type":"boolean","description":"Has read permission"}}}},"example":{"username":"bobz@home.com","password":"12345678","roles":{"admin":false,"flows":true,"configure":false,"subscribe":true,"write":true,"read":true}}}}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["_id"],"properties":{"_id":{"type":"string","description":"User ID"}},"example":{"_id":"71abe4f9-c636-4b1c-950f-968459cea908"}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/auth/user/{username}":{"get":{"summary":"Get user ID","tags":["auth"],"parameters":[{"type":"string","description":"Username","required":true,"in":"path","name":"username"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["_id"],"properties":{"_id":{"type":"string","description":"User ID"}},"example":"71abe4f9-c636-4b1c-950f-968459cea908"}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/auth/users":{"get":{"summary":"Get all users","tags":["auth"],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"array","items":{"type":"string","description":"Username"},"example":["admin","bobz@home.com","chris@home.com"]}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/auth/user/roles/{_id}":{"get":{"summary":"Get user roles","tags":["auth"],"parameters":[{"type":"string","description":"User ID","required":true,"in":"path","name":"_id"}],"responses":{"200":{"description":"Role profile","schema":{"example":{"admin":false,"flows":true,"configure":false,"subscribe":true,"write":true,"read":true},"description":"Role profile","type":"object","required":["admin","flows","configure","subscribe","write","read"],"additionalProperties":false,"properties":{"admin":{"type":"boolean","description":"Has admin permission"},"flows":{"type":"boolean","description":"Has flows editing permission"},"configure":{"type":"boolean","description":"Has configuration editing permission"},"subscribe":{"type":"boolean","description":"Has subscription permission"},"write":{"type":"boolean","description":"Has write permission"},"read":{"type":"boolean","description":"Has read permission"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}},"patch":{"summary":"Set user roles","tags":["auth"],"parameters":[{"name":"body","in":"body","schema":{"description":"New roles information","type":"object","required":["roles"],"additionalProperties":false,"properties":{"roles":{"description":"Role profile","type":"object","required":["admin","flows","configure","subscribe","write","read"],"additionalProperties":false,"properties":{"admin":{"type":"boolean","description":"Has admin permission"},"flows":{"type":"boolean","description":"Has flows editing permission"},"configure":{"type":"boolean","description":"Has configuration editing permission"},"subscribe":{"type":"boolean","description":"Has subscription permission"},"write":{"type":"boolean","description":"Has write permission"},"read":{"type":"boolean","description":"Has read permission"}}}},"example":{"roles":{"admin":true,"flows":true,"configure":false,"subscribe":true,"write":true,"read":true}}}},{"type":"string","description":"User ID","required":true,"in":"path","name":"_id"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["roles"],"additionalProperties":false,"properties":{"roles":{"description":"Role profile","type":"object","required":["admin","flows","configure","subscribe","write","read"],"additionalProperties":false,"properties":{"admin":{"type":"boolean","description":"Has admin permission"},"flows":{"type":"boolean","description":"Has flows editing permission"},"configure":{"type":"boolean","description":"Has configuration editing permission"},"subscribe":{"type":"boolean","description":"Has subscription permission"},"write":{"type":"boolean","description":"Has write permission"},"read":{"type":"boolean","description":"Has read permission"}}}},"example":{"roles":{"admin":true,"flows":true,"configure":false,"subscribe":true,"write":true,"read":true}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/auth/user/{_id}":{"delete":{"summary":"Delete a user","tags":["auth"],"parameters":[{"type":"string","required":true,"in":"path","name":"_id"}],"responses":{"200":{"description":"Default Response","schema":{"descripton":"Ok response","type":"object","required":["result"],"additionalProperties":false,"properties":{"result":{"type":"string","description":"Result"}},"example":{"result":"OK"}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/auth/user/password/{_id}":{"patch":{"summary":"Set user password","tags":["auth"],"parameters":[{"name":"body","in":"body","schema":{"description":"New password information","type":"object","required":["password"],"additionalProperties":false,"properties":{"password":{"description":"New password","type":"string","minLength":8}}}},{"type":"string","description":"User ID","required":true,"in":"path","name":"_id"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["result"],"additionalProperties":false,"properties":{"result":{"type":"string","description":"Result"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/admin/settings":{"get":{"summary":"Get node settings","description":"Test <b>description</b> lalala","tags":["admin"],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Response data","type":"object","properties":{"mobiusFlow":{"description":"MobiusFlow settings","type":"object","properties":{"version":{"type":"string"},"hubID":{"description":"Hub ID","type":"object","properties":{"environment":{"type":"string"},"runtime":{"type":"string"}}},"resetPSKs":{"description":"Reset pre-shared keys","type":"boolean"},"localTimeout":{"type":"number","description":"Local timeout in ms"},"licenceCode":{"type":"string","description":"MobiusFlow Licence code"},"engineApiPort":{"type":"number","description":"Engine API port"},"engineApiAuthProvider":{"type":"string","description":"Engine API auth provider"},"objectCount":{"type":"number","description":"Object count"}}},"nodeJS":{"description":"NodeJS settings","type":"object","properties":{"version":{"type":"string","description":"NodeJS version"},"upTime":{"type":"number","description":"NodeJS uptime in ms"}}}},"example":{"mobiusFlow":{"version":"1.11.0-docker","hubID":{"environment":"000001","runtime":"000001"},"resetPSKs":true,"localTimeout":10000,"licenceCode":"","engineApiPort":9081,"engineApiAuthProvider":"local","objectCount":0},"nodeJS":{"version":"v18.12.1","upTime":925}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/discover/{hid}":{"get":{"summary":"Discover MobiusFlow services on a given hub","tags":["discover"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Response data","type":"array","items":{"description":"MobiusFlow service information","type":"object","properties":{"id":{"description":"Service ID","type":"string"},"spid":{"description":"Service profile ID","type":"string"},"registered":{"description":"Service registered","type":"string"},"status":{"description":"Service status","type":"string"},"lastConnected":{"description":"Service last connected time","type":"string"}}},"example":[{"id":"0004/002","spid":"0004","registered":"2022-12-21T09:27:33.406Z","status":"online"},{"id":"0012/012","spid":"0012","registered":"2022-12-21T09:27:35.006Z","status":"online"},{"id":"0021/020","spid":"0021","registered":"2022-12-21T10:24:51.695Z","status":"online"}]}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/discover/{hid}/{sid}":{"get":{"summary":"Discover MobiusFlow objects profiles on a given service","tags":["discover"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001/020"},"data":{"description":"Response data","type":"array","items":{"description":"MobiusFlow object profile ID","type":"string"},"example":["0001","000D","0010"]}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/discover/{hid}/{sid}/{pid}":{"get":{"summary":"Discover MobiusFlow objects of a given type","tags":["discover"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001/020/000D"},"data":{"description":"Response data","type":"array","items":{"description":"MobiusFlow object instance ID","type":"string"},"example":["0001","0002"]}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/discover/{hid}/{sid}/{pid}/{ins}":{"get":{"summary":"Discover a MobiusFlow object","tags":["discover"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Instance ID","example":"0001","required":true,"in":"path","name":"ins"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001/020/000D/0001"},"data":{"description":"Response data","type":"array","items":{"description":"Mobius live object information","type":"object","properties":{"pid":{"type":"string","description":"Profile ID associated to the object"},"ins":{"type":"string","description":"Instance ID of the object"},"profileName":{"type":"string","description":"Profile name associated to the object"},"description":{"type":"string","description":"Object description"},"resources":{"description":"Array of resources","type":"array","items":{"description":"Mobius live resource information","type":"object","properties":{"rid":{"type":"string","description":"Resource ID"},"type":{"type":"string","description":"Resource type"},"name":{"type":"string","description":"Resource name"},"pv":{"description":"Resource value","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]},"prar":{"description":"Resource priority array","type":"array","items":{"description":"Resource value for given priority","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"},{"type":"null"}]}},"settings":{"description":"Resource settings","type":"object","properties":{},"additionalProperties":true}}}},"families":{"description":"Array of families","type":"array","items":{"type":"string","description":"Family name"}},"isFromConfig":{"type":"number","description":"Object is from config, 0 for created but not configured, 1 for created from config"}}},"example":[{"pid":"000D","ins":"0001","profileName":"enocean_A5-08-01","description":"EnOcean light, temperature and occupancy sensor","resources":[{"rid":"00","type":"string","name":"parentObject","pv":"","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",""],"settings":{"access":"rw","tags":{"attribute":"true"}}},{"rid":"01","type":"string","name":"name","pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor",""],"settings":{"access":"r","tags":{"attribute":"true"}}},{"rid":"02","type":"datetime","name":"objectLastUpdated","pv":"1970-01-01T00:00:00.000Z","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"1970-01-01T00:00:00.000Z","1970-01-01T00:00:00.000Z"],"settings":{"access":"r"}},{"rid":"03","type":"string","name":"description","pv":"","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",""],"settings":{"access":"r","tags":{"attribute":"true"}}},{"rid":"04","type":"string","name":"location","pv":"","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",""],"settings":{"access":"r","tags":{"attribute":"true"}}},{"rid":"0A","type":"string","name":"eep","pv":"A5-08-01","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"A5-08-01",""],"settings":{"access":"r","tags":{"attribute":"true"}}},{"rid":"0B","type":"string","name":"uid","pv":"12345678","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"12345678",""],"settings":{"access":"r","maxlen":8,"tags":{"attribute":"true"}}},{"rid":"0C","type":"number","name":"status","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r"}},{"rid":"0D","type":"number","name":"dBm","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r","units":"dBm"}},{"rid":"0E","type":"bool","name":"lrn","pv":false,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,false,false],"settings":{"access":"r"}},{"rid":"40","type":"number","name":"tmp","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r","min":0,"max":51,"precision":1,"units":"C"}},{"rid":"41","type":"number","name":"lux","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r","min":0,"max":510,"precision":1,"units":"lx"}},{"rid":"42","type":"bool","name":"pirs","pv":false,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,false,false],"settings":{"access":"r"}},{"rid":"43","type":"bool","name":"occupany","pv":false,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,false,false],"settings":{"access":"r"}},{"rid":"44","type":"number","name":"supplyVoltage","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r","min":0,"max":5.1,"precision":1,"units":"V"}}],"families":["EnOcean","TemperatureSensor","OccupancySensor","LightSensor"],"isFromConfig":1}]}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/discover/{hid}/{sid}/{pid}/{ins}/{rid}":{"get":{"summary":"Discover a MobiusFlow resource","tags":["discover"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Instance ID","example":"0001","required":true,"in":"path","name":"ins"},{"type":"string","pattern":"^[0-9A-Fa-f]{2}$","description":"MobiusFlow Resource ID","example":"40","required":true,"in":"path","name":"rid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001/020/000D/0001/40"},"data":{"description":"Response data","type":"array","items":{"description":"Mobius live resource information","type":"object","properties":{"rid":{"type":"string","description":"Resource ID"},"type":{"type":"string","description":"Resource type"},"name":{"type":"string","description":"Resource name"},"pv":{"description":"Resource value","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]},"prar":{"description":"Resource priority array","type":"array","items":{"description":"Resource value for given priority","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"},{"type":"null"}]}},"settings":{"description":"Resource settings","type":"object","properties":{},"additionalProperties":true}}},"example":[{"rid":"40","type":"number","name":"tmp","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r","min":0,"max":51,"precision":1,"units":"C"}}]}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/node/resetpsks/{hid}":{"post":{"summary":"Reset node pre-shared keys","tags":["node"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Response data","type":"object","additionalProperties":false,"properties":{"result":{"type":"string","description":"Result"}},"example":{"result":"OK"}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/node/config/{hid}":{"get":{"summary":"Get node configuration","tags":["node"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Mobius Node Configuration (array of services information)","type":"array","items":{"description":"Service information","type":"object","required":["id","name","enabled","runAtStart"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"Service ID"},"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Run at start flag"}}},"example":[{"id":"0004/002","name":"mobius-engine-api","enabled":true,"runAtStart":true},{"id":"0012/012","name":"mobius-ui-restapi","enabled":true,"runAtStart":true},{"id":"0021/020","name":"enocean devices","enabled":true,"runAtStart":true},{"id":"000E/021","name":"node-red connector","enabled":true,"runAtStart":true}]}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/node/configtree/{hid}":{"get":{"summary":"Get node configuration tree","tags":["node"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Response data","type":"array","items":{"description":"Mobius service configuration","type":"object","required":["sid","spid","name","enabled","runAtStart","settings","custom","objects"],"additionalProperties":false,"properties":{"sid":{"type":"string","description":"Service ID"},"spid":{"type":"string","description":"Service profile ID associated to the service"},"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Service run at start flag"},"settings":{"description":"Mobius base service settings","type":"object","properties":{"mqtt":{"description":"MQTT settings","type":"object","required":["host","port"],"additionalProperties":false,"properties":{"host":{"type":"string","description":"Hub MQTT broker host location"},"port":{"type":"number","description":"Hub MQTT broker port"}}},"timeouts":{"description":"Timeouts","type":"object","required":["local","remote"],"additionalProperties":false,"properties":{"local":{"type":"number","description":"Local timeout in ms"},"remote":{"type":"number","description":"Remote timeout in ms"}}}}},"custom":{"description":"Custom settings","type":"object","additionalProperties":true},"objects":{"description":"Array of configured objects on service","type":"array","items":{"description":"Object profile group containing PID and array of objects of that type","type":"object","properties":{"pid":{"type":"string","description":"Object PID"},"objects":{"description":"Array of objects","type":"array","items":{"type":"object","required":["pid","ins"],"properties":{"pid":{"type":"string"},"ins":{"type":"string"},"rids":{"type":"array","items":{"type":"object","properties":{"rid":{"type":"string"},"settings":{"type":"object","additionalProperties":true,"properties":{}}}}}}}}}}}}},"example":[{"sid":"002","spid":"0004","name":"mobius-engine-api","enabled":true,"runAtStart":true,"settings":{"mqtt":{"host":"mqtt://localhost","port":2016},"timeouts":{"local":10000,"remote":5000}},"custom":{},"objects":[]},{"sid":"012","spid":"0012","name":"mobius-ui-restapi","enabled":true,"runAtStart":true,"settings":{"mqtt":{"host":"mqtt://localhost","port":2016},"timeouts":{"local":10000,"remote":5000}},"custom":{"resin-vpn":false},"objects":[{"pid":"0002","objects":[{"pid":"0002","ins":"0001","rids":[]}]}]},{"sid":"020","spid":"0021","name":"enocean devices","enabled":true,"runAtStart":true,"settings":{"mqtt":{"host":"mqtt://localhost","port":2016},"timeouts":{"local":500,"remote":5000}},"custom":{},"objects":[{"pid":"000D","objects":[{"pid":"000D","ins":"0001","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor"}},{"rid":"0B","settings":{"pv":"12345678"}}]},{"pid":"000D","ins":"0002","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor"}},{"rid":"0B","settings":{"pv":"11223344"}}]}]},{"pid":"0010","objects":[{"pid":"0010","ins":"0001","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-02-02 Temperature Sensor (-30C to 10C)"}},{"rid":"0B","settings":{"pv":"12121212"}}]}]}]},{"sid":"021","spid":"000E","name":"node-red connector","enabled":true,"runAtStart":true,"settings":{"mqtt":{"host":"mqtt://localhost","port":2016},"timeouts":{"local":500,"remote":5000}},"custom":{"host":"localhost","port":1890,"psk":"node-red"},"objects":[]}]}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/service/start/{hid}/{sid}":{"post":{"summary":"Start service","tags":["service"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Start service result information","type":"object","additionalProperties":false,"properties":{"result":{"type":"string","description":"Result"}},"example":{"result":"OK"}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/service/stop/{hid}/{sid}":{"post":{"summary":"Stop service","tags":["service"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Stop service result information","type":"object","additionalProperties":false,"properties":{"result":{"type":"string","description":"Result"}},"example":{"result":"OK"}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/service/config/sid/{hid}/{sid}":{"patch":{"summary":"Update service ID of a service","tags":["service"],"parameters":[{"name":"body","in":"body","schema":{"description":"New service ID information","type":"object","required":["newSID"],"additionalProperties":false,"properties":{"newSID":{"description":"New service ID","type":"string","pattern":"^[0-9A-F]{3}$"}},"example":{"newSID":"02A"}}},{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"example":[{"id":"0004/002","name":"mobius-engine-api","enabled":true,"runAtStart":true},{"id":"0012/012","name":"mobius-ui-restapi","enabled":true,"runAtStart":true},{"id":"0021/020","name":"enocean devices","enabled":true,"runAtStart":true},{"id":"000E/02A","name":"nr-connector","enabled":true,"runAtStart":true}],"description":"Mobius Node Configuration (array of services information)","type":"array","items":{"description":"Service information","type":"object","required":["id","name","enabled","runAtStart"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"Service ID"},"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Run at start flag"}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/service/config/{hid}/{sid}":{"get":{"summary":"Get service configuration","tags":["service"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"example":{"sid":"020","spid":"0021","name":"enocean devices","enabled":true,"runAtStart":true,"settings":{"mqtt":{"host":"mqtt://localhost","port":2016},"timeouts":{"local":500,"remote":5000}},"custom":{},"objects":[{"pid":"000D","objects":[{"pid":"000D","ins":"0002","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor"}},{"rid":"0B","settings":{"pv":"11223344"}}]},{"pid":"000D","ins":"0006","rids":[{"rid":"40","settings":{"min":30}}]},{"pid":"000D","ins":"0001","rids":[{"rid":"40","settings":{"min":30}}]},{"pid":"000D","ins":"000A","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor"}},{"rid":"0B","settings":{"pv":"11223344"}}]}]},{"pid":"0010","objects":[{"pid":"0010","ins":"0001","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-02-02 Temperature Sensor (-30C to 10C)"}},{"rid":"0B","settings":{"pv":"12121212"}}]}]},{"pid":"0201","objects":[{"pid":"0201","ins":"0001","rids":[]}]}]},"description":"Mobius service configuration","type":"object","required":["sid","spid","name","enabled","runAtStart","settings","custom","objects"],"additionalProperties":false,"properties":{"sid":{"type":"string","description":"Service ID"},"spid":{"type":"string","description":"Service profile ID associated to the service"},"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Service run at start flag"},"settings":{"description":"Mobius base service settings","type":"object","properties":{"mqtt":{"description":"MQTT settings","type":"object","required":["host","port"],"additionalProperties":false,"properties":{"host":{"type":"string","description":"Hub MQTT broker host location"},"port":{"type":"number","description":"Hub MQTT broker port"}}},"timeouts":{"description":"Timeouts","type":"object","required":["local","remote"],"additionalProperties":false,"properties":{"local":{"type":"number","description":"Local timeout in ms"},"remote":{"type":"number","description":"Remote timeout in ms"}}}}},"custom":{"description":"Custom settings","type":"object","additionalProperties":true},"objects":{"description":"Array of configured objects on service","type":"array","items":{"description":"Object profile group containing PID and array of objects of that type","type":"object","properties":{"pid":{"type":"string","description":"Object PID"},"objects":{"description":"Array of objects","type":"array","items":{"type":"object","required":["pid","ins"],"properties":{"pid":{"type":"string"},"ins":{"type":"string"},"rids":{"type":"array","items":{"type":"object","properties":{"rid":{"type":"string"},"settings":{"type":"object","additionalProperties":true,"properties":{}}}}}}}}}}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}},"patch":{"summary":"Update service configuration","tags":["service"],"parameters":[{"name":"body","in":"body","schema":{"description":"New service configuration","type":"object","additionalProperties":false,"properties":{"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Service run at start flag"},"custom":{"description":"Custom service settings configuration","type":"object","additionalProperties":true}},"example":{"name":"nr-connector","runAtStart":true,"enabled":true}}},{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"example":{"sid":"021","spid":"000E","name":"nr-connector","enabled":true,"runAtStart":true,"settings":{"mqtt":{"host":"mqtt://localhost","port":2016},"timeouts":{"local":500,"remote":5000}},"custom":{"host":"localhost","port":1890,"psk":"node-red"},"objects":[]},"description":"Mobius service configuration","type":"object","required":["sid","spid","name","enabled","runAtStart","settings","custom","objects"],"additionalProperties":false,"properties":{"sid":{"type":"string","description":"Service ID"},"spid":{"type":"string","description":"Service profile ID associated to the service"},"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Service run at start flag"},"settings":{"description":"Mobius base service settings","type":"object","properties":{"mqtt":{"description":"MQTT settings","type":"object","required":["host","port"],"additionalProperties":false,"properties":{"host":{"type":"string","description":"Hub MQTT broker host location"},"port":{"type":"number","description":"Hub MQTT broker port"}}},"timeouts":{"description":"Timeouts","type":"object","required":["local","remote"],"additionalProperties":false,"properties":{"local":{"type":"number","description":"Local timeout in ms"},"remote":{"type":"number","description":"Remote timeout in ms"}}}}},"custom":{"description":"Custom settings","type":"object","additionalProperties":true},"objects":{"description":"Array of configured objects on service","type":"array","items":{"description":"Object profile group containing PID and array of objects of that type","type":"object","properties":{"pid":{"type":"string","description":"Object PID"},"objects":{"description":"Array of objects","type":"array","items":{"type":"object","required":["pid","ins"],"properties":{"pid":{"type":"string"},"ins":{"type":"string"},"rids":{"type":"array","items":{"type":"object","properties":{"rid":{"type":"string"},"settings":{"type":"object","additionalProperties":true,"properties":{}}}}}}}}}}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/service/reload/{hid}/{sid}":{"post":{"summary":"Reload service","tags":["service"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001/020"},"data":{"description":"Reload service result information","type":"object","additionalProperties":false,"properties":{"result":{"type":"string","description":"Result"}},"example":{"result":"OK"}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/service/{hid}":{"post":{"summary":"Add service","tags":["service"],"parameters":[{"name":"body","in":"body","schema":{"description":"New service information","type":"object","required":["spid","name","enabled","runAtStart"],"additionalProperties":false,"properties":{"sid":{"description":"Service ID","type":"string","pattern":"^[0-9A-F]{3}$"},"spid":{"description":"Service profile ID","type":"string","pattern":"^[0-9A-F]{4}$"},"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Service run at start flag"}},"example":{"spid":"000E","name":"New example nr-connector service","enabled":false,"runAtStart":true}}},{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"example":[{"id":"0004/002","name":"mobius-engine-api","enabled":true,"runAtStart":true},{"id":"0012/012","name":"mobius-ui-restapi","enabled":true,"runAtStart":true},{"id":"0021/020","name":"enocean devices","enabled":true,"runAtStart":true},{"id":"000E/021","name":"Test","enabled":false,"runAtStart":true},{"id":"000E/022","name":"New example nr-connector service","enabled":false,"runAtStart":true}],"description":"Mobius Node Configuration (array of services information)","type":"array","items":{"description":"Service information","type":"object","required":["id","name","enabled","runAtStart"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"Service ID"},"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Run at start flag"}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/service/{hid}/{sid}":{"delete":{"summary":"Delete service","tags":["service"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"example":{"sid":"020","spid":"0021","name":"enocean devices","enabled":true,"runAtStart":true,"settings":{"mqtt":{"host":"mqtt://localhost","port":2016},"timeouts":{"local":500,"remote":5000}},"custom":{},"objects":[{"pid":"000D","objects":[{"pid":"000D","ins":"0002","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor"}},{"rid":"0B","settings":{"pv":"11223344"}}]},{"pid":"000D","ins":"0006","rids":[{"rid":"40","settings":{"min":30}}]},{"pid":"000D","ins":"0001","rids":[{"rid":"40","settings":{"min":30}}]}]},{"pid":"0010","objects":[{"pid":"0010","ins":"0001","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-02-02 Temperature Sensor (-30C to 10C)"}},{"rid":"0B","settings":{"pv":"12121212"}}]}]}]},"description":"Mobius Node Configuration (array of services information)","type":"array","items":{"description":"Service information","type":"object","required":["id","name","enabled","runAtStart"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"Service ID"},"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Run at start flag"}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/service/clone/{hid}/{sid}":{"post":{"summary":"Clone service","tags":["service"],"parameters":[{"name":"body","in":"body","schema":{"description":"Clone service information","type":"object","required":["copies","start"],"additionalProperties":false,"properties":{"copies":{"type":"number","description":"Number of copies"},"start":{"description":"Starting service ID for 1st copy, subsequent copies will be incremented","type":"string","pattern":"^[0-9A-F]{3}$"}},"example":{"copies":1,"start":"030"}}},{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"example":[{"id":"0004/002","name":"mobius-engine-api","enabled":true,"runAtStart":true},{"id":"0012/012","name":"mobius-ui-restapi","enabled":true,"runAtStart":true},{"id":"0021/020","name":"enocean devices","enabled":true,"runAtStart":true},{"id":"000E/021","name":"Test","enabled":false,"runAtStart":true},{"id":"0021/030","name":"Clone of 020 0","enabled":true,"runAtStart":true}],"description":"Mobius Node Configuration (array of services information)","type":"array","items":{"description":"Service information","type":"object","required":["id","name","enabled","runAtStart"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"Service ID"},"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Run at start flag"}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/service/config/replaceAllObjects/{hid}/{sid}":{"put":{"summary":"Replace all objects within a service","tags":["service"],"parameters":[{"name":"body","in":"body","schema":{"example":[{"pid":"000D","objects":[{"pid":"000D","ins":"0002","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor"}},{"rid":"0B","settings":{"pv":"11223344"}}]},{"pid":"000D","ins":"0006","rids":[{"rid":"40","settings":{"min":30}}]},{"pid":"000D","ins":"0001","rids":[{"rid":"40","settings":{"min":30}}]}]},{"pid":"0010","objects":[{"pid":"0010","ins":"0001","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-02-02 Temperature Sensor (-30C to 10C)"}},{"rid":"0B","settings":{"pv":"12121212"}}]}]}],"description":"Array of configured objects on service","type":"array","items":{"description":"Object profile group containing PID and array of objects of that type","type":"object","properties":{"pid":{"type":"string","description":"Object PID"},"objects":{"description":"Array of objects","type":"array","items":{"type":"object","required":["pid","ins"],"properties":{"pid":{"type":"string"},"ins":{"type":"string"},"rids":{"type":"array","items":{"type":"object","properties":{"rid":{"type":"string"},"settings":{"type":"object","additionalProperties":true,"properties":{}}}}}}}}}}}},{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"example":{"sid":"020","spid":"0021","name":"enocean devices","enabled":true,"runAtStart":true,"settings":{"mqtt":{"host":"mqtt://localhost","port":2016},"timeouts":{"local":500,"remote":5000}},"custom":{},"objects":[{"pid":"000D","objects":[{"pid":"000D","ins":"0002","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor"}},{"rid":"0B","settings":{"pv":"11223344"}}]},{"pid":"000D","ins":"0006","rids":[{"rid":"40","settings":{"min":30}}]},{"pid":"000D","ins":"0001","rids":[{"rid":"40","settings":{"min":30}}]}]},{"pid":"0010","objects":[{"pid":"0010","ins":"0001","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-02-02 Temperature Sensor (-30C to 10C)"}},{"rid":"0B","settings":{"pv":"12121212"}}]}]}]},"description":"Mobius service configuration","type":"object","required":["sid","spid","name","enabled","runAtStart","settings","custom","objects"],"additionalProperties":false,"properties":{"sid":{"type":"string","description":"Service ID"},"spid":{"type":"string","description":"Service profile ID associated to the service"},"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Service run at start flag"},"settings":{"description":"Mobius base service settings","type":"object","properties":{"mqtt":{"description":"MQTT settings","type":"object","required":["host","port"],"additionalProperties":false,"properties":{"host":{"type":"string","description":"Hub MQTT broker host location"},"port":{"type":"number","description":"Hub MQTT broker port"}}},"timeouts":{"description":"Timeouts","type":"object","required":["local","remote"],"additionalProperties":false,"properties":{"local":{"type":"number","description":"Local timeout in ms"},"remote":{"type":"number","description":"Remote timeout in ms"}}}}},"custom":{"description":"Custom settings","type":"object","additionalProperties":true},"objects":{"description":"Array of configured objects on service","type":"array","items":{"description":"Object profile group containing PID and array of objects of that type","type":"object","properties":{"pid":{"type":"string","description":"Object PID"},"objects":{"description":"Array of objects","type":"array","items":{"type":"object","required":["pid","ins"],"properties":{"pid":{"type":"string"},"ins":{"type":"string"},"rids":{"type":"array","items":{"type":"object","properties":{"rid":{"type":"string"},"settings":{"type":"object","additionalProperties":true,"properties":{}}}}}}}}}}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/object/{hid}/{sid}/{pid}/{ins}":{"get":{"summary":"Get live object","tags":["object"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Instance ID","example":"0001","required":true,"in":"path","name":"ins"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001/020/000D/0001"},"data":{"example":{"pid":"000D","ins":"0001","profileName":"enocean_A5-08-01","description":"EnOcean light, temperature and occupancy sensor","resources":[{"rid":"00","type":"string","name":"parentObject","pv":"","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",""],"settings":{"access":"rw","tags":{"attribute":"true"}}},{"rid":"01","type":"string","name":"name","pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor",""],"settings":{"access":"r","tags":{"attribute":"true"}}},{"rid":"02","type":"datetime","name":"objectLastUpdated","pv":"1970-01-01T00:00:00.000Z","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"1970-01-01T00:00:00.000Z","1970-01-01T00:00:00.000Z"],"settings":{"access":"r"}},{"rid":"03","type":"string","name":"description","pv":"","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",""],"settings":{"access":"r","tags":{"attribute":"true"}}},{"rid":"04","type":"string","name":"location","pv":"","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",""],"settings":{"access":"r","tags":{"attribute":"true"}}},{"rid":"0A","type":"string","name":"eep","pv":"A5-08-01","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"A5-08-01",""],"settings":{"access":"r","tags":{"attribute":"true"}}},{"rid":"0B","type":"string","name":"uid","pv":"12345678","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"12345678",""],"settings":{"access":"r","maxlen":8,"tags":{"attribute":"true"}}},{"rid":"0C","type":"number","name":"status","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r"}},{"rid":"0D","type":"number","name":"dBm","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r","units":"dBm"}},{"rid":"0E","type":"bool","name":"lrn","pv":false,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,false,false],"settings":{"access":"r"}},{"rid":"40","type":"number","name":"tmp","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r","min":0,"max":51,"precision":1,"units":"C"}},{"rid":"41","type":"number","name":"lux","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r","min":0,"max":510,"precision":1,"units":"lx"}},{"rid":"42","type":"bool","name":"pirs","pv":false,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,false,false],"settings":{"access":"r"}},{"rid":"43","type":"bool","name":"occupany","pv":false,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,false,false],"settings":{"access":"r"}},{"rid":"44","type":"number","name":"supplyVoltage","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r","min":0,"max":5.1,"precision":1,"units":"V"}}],"families":["EnOcean","TemperatureSensor","OccupancySensor","LightSensor"],"isFromConfig":1},"description":"Mobius live object information","type":"object","properties":{"pid":{"type":"string","description":"Profile ID associated to the object"},"ins":{"type":"string","description":"Instance ID of the object"},"profileName":{"type":"string","description":"Profile name associated to the object"},"description":{"type":"string","description":"Object description"},"resources":{"description":"Array of resources","type":"array","items":{"description":"Mobius live resource information","type":"object","properties":{"rid":{"type":"string","description":"Resource ID"},"type":{"type":"string","description":"Resource type"},"name":{"type":"string","description":"Resource name"},"pv":{"description":"Resource value","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]},"prar":{"description":"Resource priority array","type":"array","items":{"description":"Resource value for given priority","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"},{"type":"null"}]}},"settings":{"description":"Resource settings","type":"object","properties":{},"additionalProperties":true}}}},"families":{"description":"Array of families","type":"array","items":{"type":"string","description":"Family name"}},"isFromConfig":{"type":"number","description":"Object is from config, 0 for created but not configured, 1 for created from config"}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}},"post":{"summary":"Add object with specified instance ID","tags":["object"],"parameters":[{"name":"body","in":"body","schema":{"description":"Array of resources","type":"array","items":{"type":"object","properties":{"rid":{"type":"string"},"settings":{"type":"object","additionalProperties":true,"properties":{}}}},"example":[{"rid":"40","settings":{"min":30}}]}},{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Instance ID","example":"0001","required":true,"in":"path","name":"ins"}],"responses":{"201":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"example":{"sid":"020","spid":"0021","name":"enocean devices","enabled":true,"runAtStart":true,"settings":{"mqtt":{"host":"mqtt://localhost","port":2016},"timeouts":{"local":500,"remote":5000}},"custom":{},"objects":[{"pid":"000D","objects":[{"pid":"000D","ins":"0005","rids":[{"rid":"40","settings":{"min":22}}]},{"pid":"000D","ins":"0002","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor"}},{"rid":"0B","settings":{"pv":"11223344"}}]},{"pid":"000D","ins":"0006","rids":[{"rid":"40","settings":{"min":30}}]}]},{"pid":"0010","objects":[{"pid":"0010","ins":"0001","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-02-02 Temperature Sensor (-30C to 10C)"}},{"rid":"0B","settings":{"pv":"12121212"}}]}]}]},"description":"Mobius service configuration","type":"object","required":["sid","spid","name","enabled","runAtStart","settings","custom","objects"],"additionalProperties":false,"properties":{"sid":{"type":"string","description":"Service ID"},"spid":{"type":"string","description":"Service profile ID associated to the service"},"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Service run at start flag"},"settings":{"description":"Mobius base service settings","type":"object","properties":{"mqtt":{"description":"MQTT settings","type":"object","required":["host","port"],"additionalProperties":false,"properties":{"host":{"type":"string","description":"Hub MQTT broker host location"},"port":{"type":"number","description":"Hub MQTT broker port"}}},"timeouts":{"description":"Timeouts","type":"object","required":["local","remote"],"additionalProperties":false,"properties":{"local":{"type":"number","description":"Local timeout in ms"},"remote":{"type":"number","description":"Remote timeout in ms"}}}}},"custom":{"description":"Custom settings","type":"object","additionalProperties":true},"objects":{"description":"Array of configured objects on service","type":"array","items":{"description":"Object profile group containing PID and array of objects of that type","type":"object","properties":{"pid":{"type":"string","description":"Object PID"},"objects":{"description":"Array of objects","type":"array","items":{"type":"object","required":["pid","ins"],"properties":{"pid":{"type":"string"},"ins":{"type":"string"},"rids":{"type":"array","items":{"type":"object","properties":{"rid":{"type":"string"},"settings":{"type":"object","additionalProperties":true,"properties":{}}}}}}}}}}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}},"delete":{"summary":"Delete object","tags":["object"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Instance ID","example":"0001","required":true,"in":"path","name":"ins"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"example":{"sid":"020","spid":"0021","name":"enocean devices","enabled":true,"runAtStart":true,"settings":{"mqtt":{"host":"mqtt://localhost","port":2016},"timeouts":{"local":500,"remote":5000}},"custom":{},"objects":[{"pid":"000D","objects":[{"pid":"000D","ins":"0002","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor"}},{"rid":"0B","settings":{"pv":"11223344"}}]},{"pid":"000D","ins":"0006","rids":[{"rid":"40","settings":{"min":30}}]},{"pid":"000D","ins":"0001","rids":[{"rid":"40","settings":{"min":30}}]}]},{"pid":"0010","objects":[{"pid":"0010","ins":"0001","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-02-02 Temperature Sensor (-30C to 10C)"}},{"rid":"0B","settings":{"pv":"12121212"}}]}]}]},"description":"Mobius service configuration","type":"object","required":["sid","spid","name","enabled","runAtStart","settings","custom","objects"],"additionalProperties":false,"properties":{"sid":{"type":"string","description":"Service ID"},"spid":{"type":"string","description":"Service profile ID associated to the service"},"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Service run at start flag"},"settings":{"description":"Mobius base service settings","type":"object","properties":{"mqtt":{"description":"MQTT settings","type":"object","required":["host","port"],"additionalProperties":false,"properties":{"host":{"type":"string","description":"Hub MQTT broker host location"},"port":{"type":"number","description":"Hub MQTT broker port"}}},"timeouts":{"description":"Timeouts","type":"object","required":["local","remote"],"additionalProperties":false,"properties":{"local":{"type":"number","description":"Local timeout in ms"},"remote":{"type":"number","description":"Remote timeout in ms"}}}}},"custom":{"description":"Custom settings","type":"object","additionalProperties":true},"objects":{"description":"Array of configured objects on service","type":"array","items":{"description":"Object profile group containing PID and array of objects of that type","type":"object","properties":{"pid":{"type":"string","description":"Object PID"},"objects":{"description":"Array of objects","type":"array","items":{"type":"object","required":["pid","ins"],"properties":{"pid":{"type":"string"},"ins":{"type":"string"},"rids":{"type":"array","items":{"type":"object","properties":{"rid":{"type":"string"},"settings":{"type":"object","additionalProperties":true,"properties":{}}}}}}}}}}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/object/resource/{hid}/{sid}/{pid}/{ins}/{rid}":{"get":{"summary":"Get live resource","tags":["object"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Instance ID","example":"0001","required":true,"in":"path","name":"ins"},{"type":"string","pattern":"^[0-9A-Fa-f]{2}$","description":"MobiusFlow Resource ID","example":"40","required":true,"in":"path","name":"rid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001/020/000D/0001/40"},"data":{"example":{"rid":"40","type":"number","name":"tmp","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r","min":0,"max":51,"precision":1,"units":"C"}},"description":"Mobius live resource information","type":"object","properties":{"rid":{"type":"string","description":"Resource ID"},"type":{"type":"string","description":"Resource type"},"name":{"type":"string","description":"Resource name"},"pv":{"description":"Resource value","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]},"prar":{"description":"Resource priority array","type":"array","items":{"description":"Resource value for given priority","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"},{"type":"null"}]}},"settings":{"description":"Resource settings","type":"object","properties":{},"additionalProperties":true}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}},"patch":{"summary":"Patch live resource","tags":["object"],"parameters":[{"name":"body","in":"body","schema":{"description":"Resource information","type":"object","required":["value"],"additionalProperties":false,"properties":{"priority":{"type":"number","description":"Priority of the resource value"},"value":{"description":"Value of the resource","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"},{"type":"null"}]}},"example":{"priority":15,"value":10}}},{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Instance ID","example":"0001","required":true,"in":"path","name":"ins"},{"type":"string","pattern":"^[0-9A-Fa-f]{2}$","description":"MobiusFlow Resource ID","example":"40","required":true,"in":"path","name":"rid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001/020/000D/0001/40"},"data":{"example":{"rid":"40","type":"number","name":"tmp","pv":10,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,10,0],"settings":{"access":"r","min":0,"max":51,"precision":1,"units":"C"}},"description":"Mobius live resource information","type":"object","properties":{"rid":{"type":"string","description":"Resource ID"},"type":{"type":"string","description":"Resource type"},"name":{"type":"string","description":"Resource name"},"pv":{"description":"Resource value","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]},"prar":{"description":"Resource priority array","type":"array","items":{"description":"Resource value for given priority","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"},{"type":"null"}]}},"settings":{"description":"Resource settings","type":"object","properties":{},"additionalProperties":true}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/object/resource/{hid}/{sid}/{pid}/{ins}":{"patch":{"summary":"Patch multiple live resources","tags":["object"],"parameters":[{"name":"body","in":"body","schema":{"description":"Array of patched live resources","type":"array","items":{"description":"Resource ID, priority and value and triplet","type":"object","required":["r","p","v"],"additionalProperties":false,"properties":{"r":{"type":"string","description":"Resource ID"},"p":{"type":"number","description":"Priority of the resource value"},"v":{"description":"Value of the resource","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"},{"type":"null"}]}}},"example":[{"r":"00","p":15,"v":"Hello"},{"r":"40","p":15,"v":43.9}]}},{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Instance ID","example":"0001","required":true,"in":"path","name":"ins"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001/020/000D/0001"},"data":{"example":{"pid":"000D","ins":"0001","profileName":"enocean_A5-08-01","description":"EnOcean light, temperature and occupancy sensor","resources":[{"rid":"00","type":"string","name":"parentObject","pv":"Hello","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"Hello",""],"settings":{"access":"rw","tags":{"attribute":"true"}}},{"rid":"01","type":"string","name":"name","pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor",""],"settings":{"access":"r","tags":{"attribute":"true"}}},{"rid":"02","type":"datetime","name":"objectLastUpdated","pv":"2022-12-21T12:12:40.566Z","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"2022-12-21T12:12:40.566Z","1970-01-01T00:00:00.000Z"],"settings":{"access":"r"}},{"rid":"03","type":"string","name":"description","pv":"","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",""],"settings":{"access":"r","tags":{"attribute":"true"}}},{"rid":"04","type":"string","name":"location","pv":"","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",""],"settings":{"access":"r","tags":{"attribute":"true"}}},{"rid":"0A","type":"string","name":"eep","pv":"A5-08-01","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"A5-08-01",""],"settings":{"access":"r","tags":{"attribute":"true"}}},{"rid":"0B","type":"string","name":"uid","pv":"12345678","prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"12345678",""],"settings":{"access":"r","maxlen":8,"tags":{"attribute":"true"}}},{"rid":"0C","type":"number","name":"status","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r"}},{"rid":"0D","type":"number","name":"dBm","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r","units":"dBm"}},{"rid":"0E","type":"bool","name":"lrn","pv":false,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,false,false],"settings":{"access":"r"}},{"rid":"40","type":"number","name":"tmp","pv":43.9,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,43.9,0],"settings":{"access":"r","min":0,"max":51,"precision":1,"units":"C"}},{"rid":"41","type":"number","name":"lux","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r","min":0,"max":510,"precision":1,"units":"lx"}},{"rid":"42","type":"bool","name":"pirs","pv":false,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,false,false],"settings":{"access":"r"}},{"rid":"43","type":"bool","name":"occupany","pv":false,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,false,false],"settings":{"access":"r"}},{"rid":"44","type":"number","name":"supplyVoltage","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0],"settings":{"access":"r","min":0,"max":5.1,"precision":1,"units":"V"}}],"families":["EnOcean","TemperatureSensor","OccupancySensor","LightSensor"],"isFromConfig":1},"description":"Mobius live object information","type":"object","properties":{"pid":{"type":"string","description":"Profile ID associated to the object"},"ins":{"type":"string","description":"Instance ID of the object"},"profileName":{"type":"string","description":"Profile name associated to the object"},"description":{"type":"string","description":"Object description"},"resources":{"description":"Array of resources","type":"array","items":{"description":"Mobius live resource information","type":"object","properties":{"rid":{"type":"string","description":"Resource ID"},"type":{"type":"string","description":"Resource type"},"name":{"type":"string","description":"Resource name"},"pv":{"description":"Resource value","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]},"prar":{"description":"Resource priority array","type":"array","items":{"description":"Resource value for given priority","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"},{"type":"null"}]}},"settings":{"description":"Resource settings","type":"object","properties":{},"additionalProperties":true}}}},"families":{"description":"Array of families","type":"array","items":{"type":"string","description":"Family name"}},"isFromConfig":{"type":"number","description":"Object is from config, 0 for created but not configured, 1 for created from config"}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/object/resource/clear/{hid}/{sid}/{pid}/{ins}/{rid}":{"patch":{"summary":"Clear live resource","tags":["object"],"parameters":[{"name":"body","in":"body","schema":{"description":"Resource information","type":"object","required":["priority"],"additionalProperties":false,"properties":{"priority":{"type":"number","description":"Priority of the resource value"}},"example":{"priority":15}}},{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Instance ID","example":"0001","required":true,"in":"path","name":"ins"},{"type":"string","pattern":"^[0-9A-Fa-f]{2}$","description":"MobiusFlow Resource ID","example":"40","required":true,"in":"path","name":"rid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001/020/000D/0001/40"},"data":{"example":{"rid":"40","type":"number","name":"tmp","pv":0,"prar":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0],"settings":{"access":"r","min":0,"max":51,"precision":1,"units":"C"}},"description":"Mobius live resource information","type":"object","properties":{"rid":{"type":"string","description":"Resource ID"},"type":{"type":"string","description":"Resource type"},"name":{"type":"string","description":"Resource name"},"pv":{"description":"Resource value","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]},"prar":{"description":"Resource priority array","type":"array","items":{"description":"Resource value for given priority","anyOf":[{"type":"string"},{"type":"number"},{"type":"boolean"},{"type":"null"}]}},"settings":{"description":"Resource settings","type":"object","properties":{},"additionalProperties":true}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/object/config/{hid}/{sid}/{pid}/{ins}":{"get":{"summary":"Get object configuration","tags":["object"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Instance ID","example":"0001","required":true,"in":"path","name":"ins"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"example":{"pid":"000D","ins":"0001","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor"}},{"rid":"0B","settings":{"pv":"12345678"}}]},"type":"object","required":["pid","ins"],"properties":{"pid":{"type":"string"},"ins":{"type":"string"},"rids":{"type":"array","items":{"type":"object","properties":{"rid":{"type":"string"},"settings":{"type":"object","additionalProperties":true,"properties":{}}}}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}},"patch":{"summary":"Update object in service","tags":["object"],"parameters":[{"name":"body","in":"body","schema":{"description":"Object information","type":"object","required":["ins","rids"],"additionalProperties":false,"properties":{"ins":{"type":"string","description":"Replacement object instance ID"},"rids":{"description":"Array of resource IDs and settings","type":"array","items":{"description":"Resource ID and settings","type":"object","required":["rid","settings"],"additionalProperties":false,"properties":{"rid":{"type":"string","description":"Resource ID"},"settings":{"description":"Resource settings","type":"object","additionalProperties":true,"properties":{}}}}}},"example":{"ins":"0005","rids":[{"rid":"40","settings":{"min":22}}]}}},{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Instance ID","example":"0001","required":true,"in":"path","name":"ins"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"example":{"pid":"000D","ins":"0005","rids":[{"rid":"40","settings":{"min":22}}]},"type":"object","required":["pid","ins"],"properties":{"pid":{"type":"string"},"ins":{"type":"string"},"rids":{"type":"array","items":{"type":"object","properties":{"rid":{"type":"string"},"settings":{"type":"object","additionalProperties":true,"properties":{}}}}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/object/{hid}/{sid}/{pid}":{"post":{"summary":"Add object","tags":["object"],"parameters":[{"name":"body","in":"body","schema":{"description":"Array of resources","type":"array","items":{"type":"object","properties":{"rid":{"type":"string"},"settings":{"type":"object","additionalProperties":true,"properties":{}}}},"example":[{"rid":"40","settings":{"min":30}}]}},{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"}],"responses":{"201":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"example":{"sid":"020","spid":"0021","name":"enocean devices","enabled":true,"runAtStart":true,"settings":{"mqtt":{"host":"mqtt://localhost","port":2016},"timeouts":{"local":500,"remote":5000}},"custom":{},"objects":[{"pid":"000D","objects":[{"pid":"000D","ins":"0005","rids":[{"rid":"40","settings":{"min":22}}]},{"pid":"000D","ins":"0002","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor"}},{"rid":"0B","settings":{"pv":"11223344"}}]},{"pid":"000D","ins":"0006","rids":[{"rid":"40","settings":{"min":30}}]}]},{"pid":"0010","objects":[{"pid":"0010","ins":"0001","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-02-02 Temperature Sensor (-30C to 10C)"}},{"rid":"0B","settings":{"pv":"12121212"}}]}]}]},"description":"Mobius service configuration","type":"object","required":["sid","spid","name","enabled","runAtStart","settings","custom","objects"],"additionalProperties":false,"properties":{"sid":{"type":"string","description":"Service ID"},"spid":{"type":"string","description":"Service profile ID associated to the service"},"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Service run at start flag"},"settings":{"description":"Mobius base service settings","type":"object","properties":{"mqtt":{"description":"MQTT settings","type":"object","required":["host","port"],"additionalProperties":false,"properties":{"host":{"type":"string","description":"Hub MQTT broker host location"},"port":{"type":"number","description":"Hub MQTT broker port"}}},"timeouts":{"description":"Timeouts","type":"object","required":["local","remote"],"additionalProperties":false,"properties":{"local":{"type":"number","description":"Local timeout in ms"},"remote":{"type":"number","description":"Remote timeout in ms"}}}}},"custom":{"description":"Custom settings","type":"object","additionalProperties":true},"objects":{"description":"Array of configured objects on service","type":"array","items":{"description":"Object profile group containing PID and array of objects of that type","type":"object","properties":{"pid":{"type":"string","description":"Object PID"},"objects":{"description":"Array of objects","type":"array","items":{"type":"object","required":["pid","ins"],"properties":{"pid":{"type":"string"},"ins":{"type":"string"},"rids":{"type":"array","items":{"type":"object","properties":{"rid":{"type":"string"},"settings":{"type":"object","additionalProperties":true,"properties":{}}}}}}}}}}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/object/clone/{hid}/{sid}/{pid}/{ins}":{"post":{"summary":"Clone object","tags":["object"],"parameters":[{"name":"body","in":"body","schema":{"description":"Object cloning information","type":"object","required":["copies"],"additionalProperties":false,"properties":{"copies":{"type":"number","description":"Number of copies to be created"},"start":{"description":"Starting instance ID of the 1st copy, subsequent copies will be incremented","type":"string","pattern":"^[0-9A-F]{4}$"}},"example":{"copies":1,"start":"000A"}}},{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{3}$","description":"MobiusFlow Service ID","example":"020","required":true,"in":"path","name":"sid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Instance ID","example":"0001","required":true,"in":"path","name":"ins"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"example":{"sid":"020","spid":"0021","name":"enocean devices","enabled":true,"runAtStart":true,"settings":{"mqtt":{"host":"mqtt://localhost","port":2016},"timeouts":{"local":500,"remote":5000}},"objects":[{"pid":"000D","objects":[{"ins":"0002","pid":"000D","uiname":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor"}},{"rid":"0B","settings":{"pv":"11223344"}}],"timestamp":1671618304292},{"ins":"0006","pid":"000D","rids":[{"rid":"40","settings":{"min":30}}]},{"ins":"0001","pid":"000D","rids":[{"rid":"40","settings":{"min":30}}]},{"ins":"000A","pid":"000D","uiname":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-08-01 Light, Temperature and Occupancy Sensor"}},{"rid":"0B","settings":{"pv":"11223344"}}],"timestamp":1671618304292}]},{"pid":"0010","objects":[{"ins":"0001","pid":"0010","uiname":"EnOcean EEP A5-02-02 Temperature Sensor (-30C to 10C)","rids":[{"rid":"01","settings":{"pv":"EnOcean EEP A5-02-02 Temperature Sensor (-30C to 10C)"}},{"rid":"0B","settings":{"pv":"12121212"}}],"timestamp":1671618299023}]}],"custom":{}},"description":"Mobius service configuration","type":"object","required":["sid","spid","name","enabled","runAtStart","settings","custom","objects"],"additionalProperties":false,"properties":{"sid":{"type":"string","description":"Service ID"},"spid":{"type":"string","description":"Service profile ID associated to the service"},"name":{"type":"string","description":"Service name"},"enabled":{"type":"boolean","description":"Service enabled flag"},"runAtStart":{"type":"boolean","description":"Service run at start flag"},"settings":{"description":"Mobius base service settings","type":"object","properties":{"mqtt":{"description":"MQTT settings","type":"object","required":["host","port"],"additionalProperties":false,"properties":{"host":{"type":"string","description":"Hub MQTT broker host location"},"port":{"type":"number","description":"Hub MQTT broker port"}}},"timeouts":{"description":"Timeouts","type":"object","required":["local","remote"],"additionalProperties":false,"properties":{"local":{"type":"number","description":"Local timeout in ms"},"remote":{"type":"number","description":"Remote timeout in ms"}}}}},"custom":{"description":"Custom settings","type":"object","additionalProperties":true},"objects":{"description":"Array of configured objects on service","type":"array","items":{"description":"Object profile group containing PID and array of objects of that type","type":"object","properties":{"pid":{"type":"string","description":"Object PID"},"objects":{"description":"Array of objects","type":"array","items":{"type":"object","required":["pid","ins"],"properties":{"pid":{"type":"string"},"ins":{"type":"string"},"rids":{"type":"array","items":{"type":"object","properties":{"rid":{"type":"string"},"settings":{"type":"object","additionalProperties":true,"properties":{}}}}}}}}}}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/command/{cid}":{"post":{"summary":"Send broadcast command","tags":["command"],"parameters":[{"name":"body","in":"body","schema":{"description":"Payload of command","type":"object","example":{"rorg":"F6","db_0":100,"db_1":80,"db_2":60,"db_3":40,"uid":"12345678","status":23,"subTelNum":1,"dBm":-5}}},{"type":"string","description":"MobiusFlow Command ID","example":"ENOCEAN_RADIO_ERP1","required":true,"in":"path","name":"cid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"ENOCEAN_RADIO_ERP1"},"data":{"description":"Acknowledgement data","type":"object","properties":{"result":{"description":"Result","type":"string"}},"additionalProperties":false,"example":{"result":"OK"}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/profile/service/{hid}":{"get":{"summary":"Get service profiles","tags":["profile"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Array of Mobius service profiles","type":"array","items":{"description":"Mobius service profile","type":"object","required":["spid","name","isConfigurable"],"additionalProperties":false,"properties":{"spid":{"type":"string","description":"Service profile ID"},"defaultID":{"type":"string","description":"Default service ID"},"name":{"type":"string","description":"Service profile name"},"description":{"type":"string","description":"Service profile description"},"isConfigurable":{"type":"boolean","description":"Service type configurable flag"},"icon":{"type":"string"},"allowedObjectFamilies":{"description":"Array of allowed object families","type":"array","items":{"type":"string","description":"Object family name"}}},"example":{"spid":"000E","defaultID":"00E","name":"node-red connector","description":"This service creates a connection between the MobiusFlow Services, Objects, and Resources and the logic Flows. The host address and port, and the pre-shared key must be entered into both the service settings and the Flow.","isConfigurable":true,"icon":"default","allowedObjectFamilies":[]}},"example":[{"spid":"0001","defaultID":"001","name":"mobius router","description":"POPULATE","isConfigurable":true,"icon":"default","allowedObjectFamilies":[]},{"spid":"FE02","defaultID":"E00","name":"iqrf connector","description":"POPULATE","isConfigurable":false,"icon":"default","allowedObjectFamilies":[]},{"spid":"FE03","defaultID":"E00","name":"room display","description":"POPULATE","isConfigurable":false,"icon":"default","allowedObjectFamilies":[]}]}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/profile/service/{hid}/{spid}":{"get":{"summary":"Get service profile","tags":["profile"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Service Profile ID","example":"0032","required":true,"in":"path","name":"spid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Mobius service profile","type":"object","required":["spid","name","isConfigurable"],"additionalProperties":false,"properties":{"spid":{"type":"string","description":"Service profile ID"},"defaultID":{"type":"string","description":"Default service ID"},"name":{"type":"string","description":"Service profile name"},"description":{"type":"string","description":"Service profile description"},"isConfigurable":{"type":"boolean","description":"Service type configurable flag"},"icon":{"type":"string"},"allowedObjectFamilies":{"description":"Array of allowed object families","type":"array","items":{"type":"string","description":"Object family name"}}},"example":{"spid":"000E","defaultID":"00E","name":"node-red connector","description":"This service creates a connection between the MobiusFlow Services, Objects, and Resources and the logic Flows. The host address and port, and the pre-shared key must be entered into both the service settings and the Flow.","isConfigurable":true,"icon":"default","allowedObjectFamilies":[]}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/profile/object/families/{hid}":{"get":{"summary":"Get object profile families","tags":["profile"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Array of object profile families","type":"object","additionalProperties":true,"properties":{},"example":{"GeneralIO":{"type":"InputOutput","description":"General analog and digital IO"},"DigitalInput":{"type":"Input","description":"Digital input"},"DigitalOutput":{"type":"Output","description":"Digital output"}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/profile/object/{hid}":{"get":{"summary":"Get object profiles","tags":["profile"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Mobius object profiles","type":"object","additionalProperties":{"type":"string"},"example":{"serviceStatus":{"header":{"pid":"1","profileName":"serviceStatus","isConfigurable":false,"instances":"single","uiname":"Mobius Service Status"},"resources":{"parentObject":{"rid":"0","access":"rw","type":"string","uiname":"Parent","settings":{"tags":{"attribute":"true"}}},"status":{"rid":"1","access":"r","type":"enum","uiname":"Status","settings":{"enum":{"Unknown":-1,"Fault":0,"OK":1}}},"statusText":{"rid":"2","access":"r","type":"string","uiname":"Status Text","settings":{"pv":"Unknown"}},"lastChanged":{"rid":"3","access":"r","type":"datetime","uiname":"Last Changed","settings":{"pv":"NOW"}}}},"licenceStatus":{"header":{"pid":"2","profileName":"licenceStatus","isConfigurable":false,"instances":"single","uiname":"Mobius Licence Status"},"resources":{"licenceCode":{"rid":"0","access":"rw","type":"string","uiname":"LicenceCode","settings":{"tags":{"attribute":"true"}}},"status":{"rid":"1","access":"r","type":"enum","uiname":"Status","settings":{"pv":-1,"enum":{"Unknown":-1,"Valid":0,"Wrong Licence Type":1,"Hub Not Registered":2,"Licence Not Active":4,"Licence Not Yet Valid":8,"Licence Expired":16,"Licence Size Exceeded":32,"Error":128}}},"expiryDate":{"rid":"2","access":"r","type":"string","uiname":"Expiry Date","settings":{"pv":""}},"licenceSize":{"rid":"3","access":"r","type":"number","uiname":"Licence Size"},"objectCount":{"rid":"4","access":"r","type":"number","uiname":"Object Count"},"server":{"rid":"5","access":"r","type":"string","uiname":"Server"},"lastVerified":{"rid":"6","access":"r","type":"string","uiname":"Last Verified"},"slowCheckInterval":{"rid":"7","access":"r","type":"number","uiname":"Slow Check Interval"},"fastCheckInterval":{"rid":"8","access":"r","type":"number","uiname":"Fast Check Interval"}}},"mobiusFlowConnector":{"header":{"pid":"65472","profileName":"mobiusFlowConnector","instances":"multiple","uiname":"MobiusFlow Connector"},"resources":{"parentObject":{"rid":"0","access":"rw","type":"string","uiname":"Parent","settings":{"tags":{"attribute":"true"}}},"name":{"rid":"1","access":"r","type":"string","uiname":"Name","settings":{"tags":{"attribute":"true"}}},"objectLastUpdated":{"rid":"2","access":"r","type":"datetime","uiname":"Object Last Updated"},"description":{"rid":"3","access":"r","type":"string","uiname":"Description","settings":{"tags":{"attribute":"true"}}},"location":{"rid":"4","access":"r","type":"string","uiname":"Location","settings":{"tags":{"attribute":"true"}}},"partNumber":{"rid":"10","access":"r","type":"string","uiname":"Part Number","settings":{"tags":{"attribute":"true"}}},"serialNumber":{"rid":"11","access":"r","type":"string","uiname":"Serial Number","settings":{"tags":{"attribute":"true"}}},"psk":{"rid":"12","access":"r","type":"string","uiname":"Pre-shared Key","settings":{"tags":{"attribute":"true"}}},"firmwareVersion":{"rid":"13","access":"r","type":"string","uiname":"Firmware Version","settings":{"tags":{"attribute":"true"}}},"module1Type":{"rid":"14","access":"r","type":"string","uiname":"Module 1 Type","settings":{"tags":{"attribute":"true"}}},"module2Type":{"rid":"15","access":"r","type":"string","uiname":"Module 2 Type","settings":{"tags":{"attribute":"true"}}},"enOceanChipID":{"rid":"16","access":"r","type":"string","uiname":"EnOcean Chip ID","settings":{"tags":{"attribute":"true"}}},"macAddress":{"rid":"17","access":"r","type":"string","uiname":"MAC Address","settings":{"tags":{"attribute":"true"}}},"ipAddress":{"rid":"18","access":"r","type":"string","uiname":"IP Address"},"subnetMask":{"rid":"19","access":"r","type":"string","uiname":"Subnet Mask"},"dnsAddress":{"rid":"20","access":"r","type":"string","uiname":"DNS Address"},"defaultGateway":{"rid":"21","access":"r","type":"string","uiname":"Default Gateway"},"ssid":{"rid":"22","access":"r","type":"string","uiname":"SSID"},"rssi":{"rid":"23","access":"r","type":"number","uiname":"RSSI"},"bssid":{"rid":"24","access":"r","type":"string","uiname":"BSSID"},"online":{"rid":"64","access":"r","type":"bool","uiname":"Online"},"uptime":{"rid":"65","access":"r","type":"string","uiname":"Uptime (days:hours:minutes)"},"lastEnOceanUID":{"rid":"66","access":"r","type":"string","uiname":"Last EnOcean UID"},"lastWorkOccUID":{"rid":"67","access":"r","type":"string","uiname":"Last WorkOcc UID"}}},"arubaEnOceanAP":{"header":{"pid":"65473","profileName":"arubaEnOceanAP","instances":"multiple","uiname":"Aruba Access Point"},"resources":{"parentObject":{"rid":"0","access":"rw","type":"string","uiname":"Parent","settings":{"tags":{"attribute":"true"}}},"name":{"rid":"1","access":"r","type":"string","uiname":"Name","settings":{"tags":{"attribute":"true"}}},"objectLastUpdated":{"rid":"2","access":"r","type":"datetime","uiname":"Object Last Updated"},"description":{"rid":"3","access":"r","type":"string","uiname":"Description","settings":{"tags":{"attribute":"true"}}},"location":{"rid":"4","access":"r","type":"string","uiname":"Location","settings":{"tags":{"attribute":"true"}}},"macAddress":{"rid":"11","access":"r","type":"string","uiname":"MAC Address","settings":{"tags":{"attribute":"true"}}},"psk":{"rid":"12","access":"r","type":"string","uiname":"Pre-shared Key","settings":{"tags":{"attribute":"true"}}},"firmwareVersion":{"rid":"13","access":"r","type":"string","uiname":"Firmware Version","settings":{"tags":{"attribute":"true"}}},"enOceanChipID":{"rid":"16","access":"r","type":"string","uiname":"EnOcean Chip ID","settings":{"tags":{"attribute":"true"}}},"ipAddress":{"rid":"18","access":"r","type":"string","uiname":"IP Address"},"online":{"rid":"64","access":"r","type":"bool","uiname":"Online"},"uptime":{"rid":"65","access":"r","type":"string","uiname":"Uptime (days:hours:minutes)"},"lastEnOceanUID":{"rid":"66","access":"r","type":"string","uiname":"Last EnOcean UID"}}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/profile/object/{hid}/{pid}":{"get":{"summary":"Get object profile by profile ID","tags":["profile"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Fa-f]{4}$","description":"MobiusFlow Object Profile ID","example":"014A","required":true,"in":"path","name":"pid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Mobius object profile","type":"object","required":["header","resources"],"additionalProperties":false,"properties":{"header":{"description":"Object profile header","type":"object","required":["pid","profileName","instances","uiname"],"additionalProperties":false,"properties":{"pid":{"type":"string","description":"Object profile ID"},"profileName":{"type":"string","description":"Object profile name"},"isConfigurable":{"type":"boolean","description":"Object type configurable flag"},"instances":{"type":"string","description":"Object profile instances"},"uiname":{"type":"string","description":"Object profile UI name"},"description":{"type":"string","description":"Object profile description"},"families":{"description":"Array of object profile families","type":"array","items":{"type":"string","description":"Object family name"}}}},"resources":{"description":"Object profile resources","type":"object","additionalProperties":{"type":"string"}}},"example":{"header":{"pid":"513","profileName":"numericValue","instances":"multiple","uiname":"Numeric Value"},"resources":{"parentObject":{"rid":"0","access":"rw","type":"string","uiname":"Parent","settings":{"tags":{"attribute":"true"}}},"name":{"rid":"1","access":"r","type":"string","uiname":"Name","settings":{"tags":{"attribute":"true"}}},"objectLastUpdated":{"rid":"2","access":"r","type":"datetime","uiname":"Object Last Updated"},"description":{"rid":"3","access":"r","type":"string","uiname":"Description","settings":{"tags":{"attribute":"true"}}},"location":{"rid":"4","access":"r","type":"string","uiname":"Location","settings":{"tags":{"attribute":"true"}}},"value":{"rid":"64","access":"rw","type":"number","uiname":"Value","settings":{"pv":0}}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/profile/object/by-name/{hid}/{profileName}":{"get":{"summary":"Get object profile by profile name","tags":["profile"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","description":"MobiusFlow Object Profile Name","example":"iqrf_05383_AirQuality","required":true,"in":"path","name":"profileName"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Mobius object profile","type":"object","required":["header","resources"],"additionalProperties":false,"properties":{"header":{"description":"Object profile header","type":"object","required":["pid","profileName","instances","uiname"],"additionalProperties":false,"properties":{"pid":{"type":"string","description":"Object profile ID"},"profileName":{"type":"string","description":"Object profile name"},"isConfigurable":{"type":"boolean","description":"Object type configurable flag"},"instances":{"type":"string","description":"Object profile instances"},"uiname":{"type":"string","description":"Object profile UI name"},"description":{"type":"string","description":"Object profile description"},"families":{"description":"Array of object profile families","type":"array","items":{"type":"string","description":"Object family name"}}}},"resources":{"description":"Object profile resources","type":"object","additionalProperties":{"type":"string"}}},"example":{"header":{"pid":"513","profileName":"numericValue","instances":"multiple","uiname":"Numeric Value"},"resources":{"parentObject":{"rid":"0","access":"rw","type":"string","uiname":"Parent","settings":{"tags":{"attribute":"true"}}},"name":{"rid":"1","access":"r","type":"string","uiname":"Name","settings":{"tags":{"attribute":"true"}}},"objectLastUpdated":{"rid":"2","access":"r","type":"datetime","uiname":"Object Last Updated"},"description":{"rid":"3","access":"r","type":"string","uiname":"Description","settings":{"tags":{"attribute":"true"}}},"location":{"rid":"4","access":"r","type":"string","uiname":"Location","settings":{"tags":{"attribute":"true"}}},"value":{"rid":"64","access":"rw","type":"number","uiname":"Value","settings":{"pv":0}}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/profile/command/{hid}":{"get":{"summary":"Get command profiles","tags":["profile"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Mobius command profiles","type":"object","additionalProperties":{"type":"string"},"example":{"ENOCEAN_RADIO_RAW":{"description":"Broadcast a received EnOcean raw radio telegram","schema":{"type":"object","properties":{"rorg":{"type":"string","minLength":2,"maxLength":2},"rawData":{"type":"array"}},"required":["rorg","rawData"]}},"ENOCEAN_RADIO_ERP1":{"description":"Broadcast a received EnOcean ERP1 type radio telegram","schema":{"type":"object","properties":{"rorg":{"type":"string","minLength":2,"maxLength":2},"db_0":{"type":"number"},"db_1":{"type":"number"},"db_2":{"type":"number"},"db_3":{"type":"number"},"uid":{"type":"string","minLength":8,"maxLength":8},"status":{"type":"number"},"subTelNum":{"type":"number"},"dBm":{"type":"number"}},"required":["rorg","db_0","db_1","db_2","db_3","uid","status","subTelNum","dBm"]}},"ENOCEAN_RADIO_ERP1_VLD":{"description":"Broadcast a received EnOcean ERP1 type radio telegram","schema":{"type":"object","properties":{"rorg":{"type":"string","minLength":2,"maxLength":2},"vlData":{"type":"array"},"uid":{"type":"string","minLength":8,"maxLength":8},"status":{"type":"number"},"subTelNum":{"type":"number"},"dBm":{"type":"number"}},"required":["rorg","vlData","uid","status","subTelNum","dBm"]}},"ENOCEAN_RADIO_MSC":{"description":"Broadcast a received EnOcean MSC type radio telegram","schema":{"type":"object","properties":{"rorg":{"type":"string","minLength":2,"maxLength":2},"func":{"type":"string","minLength":2,"maxLength":2},"type":{"type":"string","minLength":2,"maxLength":2},"mscData":{"type":"array"},"uid":{"type":"string","minLength":8,"maxLength":8},"status":{"type":"number"},"subTelNum":{"type":"number"},"dBm":{"type":"number"}},"required":["rorg","func","type","mscData","uid","status","subTelNum","dBm"]}},"ENOCEAN_RADIO_RMC":{"description":"Broadcast a received EnOcean MSC type radio telegram","schema":{"type":"object","properties":{"packetType":{"type":"string","minLength":2,"maxLength":2},"funcNum":{"type":"number"},"manufId":{"type":"number"},"destUID":{"type":"string","minLength":8,"maxLength":8},"srcUID":{"type":"string","minLength":8,"maxLength":8},"dBm":{"type":"number"},"cmdData":{"type":"array"}},"required":["packetType","funcNum","manufId","destUID","srcUID","dBm","cmdData"]}}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/profile/command/{hid}/{command}":{"get":{"summary":"Get command profile","tags":["profile"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"},{"type":"string","pattern":"^[0-9A-Za-z_]*$","description":"MobiusFlow Command ID","example":"ENOCEAN_RADIO_ERP1","required":true,"in":"path","name":"command"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Mobius command profile","type":"object","required":["schema"],"additionalProperties":false,"properties":{"description":{"type":"string","description":"Command profile description"},"schema":{"description":"Command profile schema","type":"object","additionalProperties":true,"properties":{}}},"example":{"description":"Broadcast a received EnOcean raw radio telegram","schema":{"type":"object","properties":{"rorg":{"type":"string","minLength":2,"maxLength":2},"rawData":{"type":"array"}},"required":["rorg","rawData"]}}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"404":{"description":"Not Found","schema":{"description":"Not Found","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/flow/{hid}":{"get":{"summary":"Get flows configuration","tags":["flows"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Array of flow configurations","type":"array","items":{"description":"Flow configuration","type":"object","additionalProperties":true,"properties":{}},"example":[{"id":"3423ebadc41ce452","type":"tab","label":"Flow 1","disabled":false,"info":"","env":[]},{"id":"dd17eb69b4c36475","type":"mobius connection","host":"localhost","port":"1890","psk":"node-red"},{"id":"64328273c1ade1ed","type":"mobius resource cov","z":"3423ebadc41ce452","name":"","detailedOutput":false,"resource":"000001/020/000D/0001/40","connection":"dd17eb69b4c36475","x":330,"y":100,"wires":[["19d9af2e1a4761ac"],[]]},{"id":"19d9af2e1a4761ac","type":"debug","z":"3423ebadc41ce452","name":"debug 1","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":620,"y":100,"wires":[]}]}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}},"put":{"summary":"Set flows configuration","tags":["flows"],"parameters":[{"name":"body","in":"body","schema":{"description":"Array of flow configurations","type":"array","items":{"description":"Flow configuration","type":"object","additionalProperties":true,"properties":{}},"example":[{"id":"6aa8ab4d100707b8","type":"tab","label":"Pigs will fly","disabled":false,"info":"","env":[]},{"id":"f3e2539aafeaa03c","type":"azureiotdevice","z":"6aa8ab4d100707b8","deviceid":"A00001_021_012D_0001","pnpModelid":"","connectiontype":"dps","authenticationmethod":"sas","iothub":"","isIotcentral":true,"scopeid":"0ne004C4815","enrollmenttype":"device","saskey":"UhjPQxY299AdQ3/TVL2kHFIi36a/cpWTUT/0BJvZjAg=","certname":"","keyname":"","passphrase":"","protocol":"mqtt","retryInterval":10,"methods":[],"DPSpayload":"","gatewayHostname":"","caname":"","cert":"","key":"","ca":"","x":920,"y":120,"wires":[[]]}]}},{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Set achknowledgement","type":"string","example":"OK"}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"408":{"description":"Request Timeout","schema":{"description":"Request Timeout","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/licence/{hid}":{"get":{"summary":"Get licence code","tags":["licence"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Licence code data","type":"object","additionalProperties":false,"properties":{"licenceCode":{"type":"string","description":"Licence code"}},"exmaple":{"licenceCode":"b7a0ab53f2c969b1211c7ddd5fa91a68dc0688f0bcbff81a9a405de73eeb8627c4fc430d567723e44a5c5b97550ca888"}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}},"put":{"summary":"Update licence code","tags":["licence"],"parameters":[{"name":"body","in":"body","schema":{"description":"Licence code data","type":"object","required":["licenceCode"],"additionalProperties":false,"properties":{"licenceCode":{"type":"string","description":"Licence code"}},"example":{"licenceCode":"b7a0ab53f2c969b1211c7ddd5fa91a68dc0688f0bcbff81a9a405de73eeb8627c4fc430d567723e44a5c5b97550ca888"}}},{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Licence code data","type":"object","additionalProperties":false,"properties":{"licenceCode":{"type":"string","description":"Licence code"}},"example":{"licenceCode":"b7a0ab53f2c969b1211c7ddd5fa91a68dc0688f0bcbff81a9a405de73eeb8627c4fc430d567723e44a5c5b97550ca888"}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}},"/api/v1/mobius/licence/{hid}/status":{"get":{"summary":"Get licence status information","tags":["licence"],"parameters":[{"type":"string","pattern":"^[0-9A-Fa-f]{6}$","description":"MobiusFlow Hub ID","example":"000001","required":true,"in":"path","name":"hid"}],"responses":{"200":{"description":"Ok response","schema":{"description":"Ok response","type":"object","required":["ts","uri","data"],"properties":{"ts":{"description":"Timestamp of the response","type":"string","example":"2022-12-21T10:25:54.585Z"},"uri":{"description":"URI of the response","type":"string","example":"000001"},"data":{"description":"Licence status data","type":"object","additionalProperties":false,"properties":{"statusText":{"type":"string","description":"Licence status"},"validTo":{"type":"string","description":"Licence valid to time"},"licenceSize":{"type":"number","description":"Number of objects available in licence"},"licenceUsed":{"type":"number","description":"Number of objects used within licence"}},"example":{"statusText":"Valid","validTo":"2022-12-23T11:29:54.563Z","licenceSize":20,"licenceUsed":3}}}}},"400":{"description":"Bad Request","schema":{"description":"Bad Request","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"401":{"description":"Unauthorized","schema":{"description":"Unauthorized","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}},"500":{"description":"Internal Server Error","schema":{"description":"Internal Server Error","type":"object","required":["statusCode","error","message"],"properties":{"ts":{"type":"string"},"statusCode":{"type":"number"},"error":{"type":"string"},"code":{"type":"number"},"message":{"type":"string"}}}}}}}}}